alias pls="pd incident:list --columns=ID,Status,Title,'Assigned to',URL --no-truncate -m"
alias plsa="pd incident:list  --no-truncate"

packall ()
{
    echo "";
    pd incident:ack -m;
    echo "";
    echo " - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -";
    echo -e " You just Acknowledged all the Incidents which were there on PD and are assigned to you ğŸ¥³";
    echo " - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -";
    echo "";
    echo "And below are the incidents which are present on PD currently";
    pd incident:list --columns=ID,Status,Title,'Assigned to',URL --no-truncate -m;
    echo "";
    echo "- - - - - - - - - - Kaam pe lag jaao ab mere dost ğŸ¤“ - - - - - - - - - -";
    echo "";
}


packalla ()
{
    plist=$(pd incident:list --columns=ID | tail -n +3 | tr '\n' ',' | rev | cut -c2- | rev);
    pd incident:ack -i $plist;
    echo "";
    echo " - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -";
    echo -e " You just Acknowledged ALL the incidents which were there on PD regardless it was assigned to you or not ğŸ˜‰";
    echo " - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -";
    echo "";
    echo "And below are the incidents which are present on PD currently";
    pd incident:list;
    echo -e "Aa gaya swaad ? ğŸ˜‚";
}


pres ()
{
    [ $# -lt 1 ] && echo "Usage: ${FUNCNAME[0]} IDs(CSV)" && return 0;
    local IDs=$1;
    pd incident:resolve -i $IDs;
    echo "";
    echo "Shabbaasshhhh bro ğŸ’ª Naaz hai hume tumpe ğŸ˜† ğŸ”¥ ğŸ”¥ ğŸ”¥";
    echo ""
}

presall() {
    echo "Below are the Incidents which are assigned to you currently on PD ğŸ¥²"
    pd incident:list --columns=ID,Status,Title,'Assigned to',URL --no-truncate -m
    echo ""
    echo "Resolving all the above Incidents Now ğŸ¤˜";
    pd incident:resolve -m
    echo ""
    echo -e "ğŸ”¥ ğŸ”¥ Aapne toh kamaal hi kar diya.. Sab Khatam kar daala ğŸ”¥ ğŸ”¥"
    pd incident:list --columns=ID,Status,Title,'Assigned to',URL --no-truncate -m;
    echo "Chillaxxxx Now ğŸ˜"
    echo ""
}

presalla() {
    echo "Below are the Incidents which are available on PD now (Regardless it's assigned to you or not) ğŸ¤”"
    plist=$(pd incident:list --columns=ID | tail -n +3 | tr '\n' ',' | rev | cut -c2- | rev);
    pd incident:list --columns=ID,Status,Title,'Assigned to',URL --no-truncate
    echo ""
    echo "Resolving all the above Incidents Now ğŸ¤˜ Sab k Sab ğŸ¤¯";
    pd incident:resolve -i $plist
    echo ""
    echo -e "ğŸ”¥ ğŸ”¥ Ab hui na baat ! Kaise karte ho itna acha kaam ğŸ”¥ ğŸ”¥"
    echo "Chillax.. To you offcourse and to the one who is in Hotseat now ğŸ˜"
    echo ""
}

packloop() {
while :
do
        echo "";
        echo "Sit back ! Relax ğŸ˜„ Your Incidents will be Acknowledged ğŸ—ƒ in every 30 seconds ğŸ”¥";
        pd incident:ack -m
        echo ""
        echo "And below are your Incidents which are present on PD currently";
        pd incident:list --columns=ID,Status,Title,'Assigned to',URL --no-truncate -m;
	#pd incident:list;
        echo "";
        sleep 30
        echo "- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -";
        echo "";
done
}

packloopa() {
while :
do
        echo "";
        echo "Sit back ! Relax ğŸ˜„ All Incidents from PD will be Acknowledged ğŸ—ƒ in every 15 seconds ğŸª„";
        plist=$(pd incident:list --columns=ID | tail -n +3 | tr '\n' ',' | rev | cut -c2- | rev);
        pd incident:ack -i $plist;
        echo ""
        echo "And below are the incidents which are present on PD currently";
        pd incident:list;
        echo "";
        sleep 15
        echo "- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -";
        echo "";
done
}

pdoc ()
{
    echo "";
    echo "---------------------------- CURRENT HOTSEAT DETAILS BELOW ------------------------";
    pd ep:oncall -i PC485M8 | grep hotseat;
    echo "-----------------------------------------------------------------------------------"
    echo "";
}

presk ()
{
    [ $# -lt 1 ] && echo "Usage: ${FUNCNAME[0]} Alert_keyword" && return 0;
    pdkeyword=$1
    issueids=$(pls | grep -i $pdkeyword | awk '{print $1}')
    for i in $issueids; do echo -e "Resolving $i now..."; pres $i; done;
    echo -e ""Bahut badiya bhai ğŸ¤˜;
}
